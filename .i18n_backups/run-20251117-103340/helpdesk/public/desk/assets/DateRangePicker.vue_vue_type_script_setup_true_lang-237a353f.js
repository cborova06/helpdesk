import{d as J,c as j,A as b,N as K,r as N,e as m,f as Q,w as g,l as u,k as p,v as x,y as T,g as i,al as X,C as Z,ac as ee,h as a,bg as C,G as w,F as D,a9 as I,H as te}from"./index-0570e060.js";import{u as le,a as n,g as h}from"./useDatePicker-b1fa65c5.js";const ae={class:"flex flex-col space-y-1.5"},se={key:0,class:"block text-xs text-ink-gray-5"},ne={class:"flex items-center p-1 text-ink-gray-4"},oe={class:"flex-1 text-center text-base font-medium text-ink-gray-6"},re={class:"flex items-center justify-center gap-1 p-1"},ue={class:"flex flex-col items-center justify-center p-1 text-ink-gray-8"},ie={class:"flex items-center text-xs uppercase"},ce=["onClick"],fe={class:"flex justify-end space-x-1 p-1"},me=J({__name:"DateRangePicker",props:{value:{},modelValue:{},placeholder:{},formatter:{type:Function},readonly:{type:Boolean},inputClass:{},placement:{},label:{}},emits:["update:modelValue","change"],setup(R,{expose:W,emit:A}){const o=R,V=A,{currentYear:S,currentMonth:k,today:M,datesAsWeeks:Y,formattedMonth:P,prevMonth:U,nextMonth:z}=le(),E=j(()=>{var s,d,v;let e="mt-2";return(s=o.placement)!=null&&s.startsWith("top")?e="mb-2":(d=o.placement)!=null&&d.startsWith("left")?e="mr-2":(v=o.placement)!=null&&v.startsWith("right")&&(e="ml-2"),e}),c=j(()=>o.value?o.value:o.modelValue),l=b(""),t=b("");function G(e){l.value&&t.value?(l.value=n(e),t.value=""):l.value&&!t.value?t.value=n(e):l.value=n(e),H()}function H(){if(!l.value||!t.value)return;let e=h(l.value),s=h(t.value);if(e>s){let d=e;e=s,s=d}l.value=n(e),t.value=n(s)}function F(){let e=`${l.value},${t.value}`;!l.value&&!t.value&&(e=""),V("change",e),V("update:modelValue",e)}function $(){let e=t.value?h(t.value):M.value;S.value=e.getFullYear(),k.value=e.getMonth()+1}function L(e){return!l.value||!t.value?!1:e>=h(l.value)&&e<=h(t.value)}function O(e){return e?(typeof e=="string"&&(e=e.split(",")),o.formatter?o.formatter(e[0])+" to "+o.formatter(e[1]):e):""}function q(){l.value="",t.value="",F()}const B=b();return K(()=>{let e=typeof(c==null?void 0:c.value)=="string"?c.value.split(","):c.value;l.value=(e==null?void 0:e[0])||"",t.value=(e==null?void 0:e[1])||"",$()}),W({open:()=>{var e;(e=B.value)==null||e.open()}}),(e,s)=>{const d=N("FeatherIcon"),v=N("Button");return m(),Q(a(te),{ref_key:"popoverRef",ref:B,onOpen:$,class:"flex w-full [&>div:first-child]:w-full",placement:e.placement},{target:g(({togglePopover:y})=>[u("div",ae,[o.label?(m(),p("label",se,x(o.label),1)):T("",!0),i(a(C),ee({readonly:"",type:"text",placeholder:e.placeholder,value:c.value&&e.formatter?O(c.value):c.value,onFocus:f=>e.readonly?null:y(),class:["w-full",e.inputClass]},e.$attrs),X({_:2},[e.$slots.prefix?{name:"prefix",fn:g(()=>[Z(e.$slots,"prefix")]),key:"0"}:void 0]),1040,["placeholder","value","onFocus","class"])])]),body:g(({togglePopover:y})=>[u("div",{class:I(["w-fit select-none text-base text-ink-gray-9 divide-y divide-outline-gray-modals rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none",E.value])},[u("div",ne,[i(v,{variant:"ghost",class:"h-7 w-7",onClick:a(U)},{default:g(()=>[i(d,{"stroke-width":2,name:"chevron-left",class:"h-4 w-4"})]),_:1},8,["onClick"]),u("div",oe,x(a(P)),1),i(v,{variant:"ghost",class:"h-7 w-7",onClick:a(z)},{default:g(()=>[i(d,{"stroke-width":2,name:"chevron-right",class:"h-4 w-4"})]),_:1},8,["onClick"])]),u("div",re,[i(a(C),{class:"w-28 text-sm",type:"text",modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=f=>l.value=f)},null,8,["modelValue"]),i(a(C),{class:"w-28 text-sm",type:"text",modelValue:t.value,"onUpdate:modelValue":s[1]||(s[1]=f=>t.value=f)},null,8,["modelValue"])]),u("div",ue,[u("div",ie,[(m(),p(D,null,w(["s","m","t","w","t","f","s"],(f,_)=>u("div",{class:"flex h-6 w-8 items-center justify-center text-center",key:_},x(f),1)),64))]),(m(!0),p(D,null,w(a(Y),(f,_)=>(m(),p("div",{class:"flex items-center",key:_},[(m(!0),p(D,null,w(f,r=>(m(),p("div",{key:a(n)(r),class:I(["flex h-8 w-8 cursor-pointer items-center justify-center rounded hover:bg-surface-gray-2",{"text-ink-gray-3":r.getMonth()!==a(k)-1,"text-ink-gray-9":r.getMonth()===a(k)-1,"font-extrabold text-ink-gray-9":a(n)(r)===a(n)(a(M)),"rounded-none bg-surface-gray-3":L(r),"rounded-l-md rounded-r-none bg-surface-gray-6 text-ink-white hover:bg-surface-gray-6":l.value&&a(n)(r)===a(n)(l.value),"rounded-r-md bg-surface-gray-6 text-ink-white hover:bg-surface-gray-6":t.value&&a(n)(r)===a(n)(t.value)}]),onClick:()=>G(r)},x(r.getDate()),11,ce))),128))]))),128))]),u("div",fe,[i(v,{label:"Clear",onClick:()=>{q(),y()},disabled:!l.value||!t.value},null,8,["onClick","disabled"]),i(v,{variant:"solid",label:"Apply",disabled:!l.value||!t.value,onClick:()=>{F(),y()}},null,8,["disabled","onClick"])])],2)]),_:3},8,["placement"])}}});export{me as _};
//# sourceMappingURL=DateRangePicker.vue_vue_type_script_setup_true_lang-237a353f.js.map
